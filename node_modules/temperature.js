var sense = require('ds18b20');

var sensorId;

function getPin () {
sense.sensors(function(err, ids) {
		sensorId = ids;
		console.log(ids);
	});
}

exports.getTemp = function (callback) {
	if(sensorId) {
		sense.temperature(sensorId, function(err, value) {
  			console.log('Current temperature is', value);
			callback(value);
		});
	}
	else {
		getPin();
	//	this.getTemp(function(data){
	//		callback(data);
	//	});
	}
}