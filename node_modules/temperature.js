var sense = require('ds18b20');

var sensorId;

function init () {
sense.sensors(function(err, ids) {
		sensorId = ids;
	});
}

function getTemp (callback) {
	if(sensorId) {
		sense.temperature(sensorId, function(err, value) {
  			console.log('Current temperature is', value);
			callback(value);
		});
	}
	else {
		callback(null);
	}
}

module.exports = {
	getTemp: getTemp,
	init : init
};